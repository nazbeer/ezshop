# Generated by Django 4.1.13 on 2024-04-08 14:34

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Bank',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('account_number', models.CharField(max_length=50)),
                ('opening_balance', models.DecimalField(decimal_places=2, max_digits=10)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='BusinessProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(default=None, max_length=64, null=True)),
                ('license_number', models.CharField(max_length=255)),
                ('license_expiration', models.DateField(null=True)),
                ('license_upload', models.FileField(upload_to='licenses')),
                ('shop_phone_number', models.CharField(max_length=25)),
                ('vat_percentage', models.DecimalField(decimal_places=2, max_digits=5)),
                ('vat_number', models.CharField(max_length=255)),
                ('vat_submission_date_1', models.DateField(null=True)),
                ('vat_submission_date_2', models.DateField(null=True)),
                ('vat_submission_date_3', models.DateField(null=True)),
                ('vat_certificate_upload', models.FileField(upload_to='vat_certificates')),
                ('address', models.TextField()),
                ('license_expiration_reminder_days', models.PositiveIntegerField(verbose_name='License Expiration Reminder (days)')),
                ('vat_submission_date_reminder_days', models.PositiveIntegerField(verbose_name='VAT Submission Date Reminder (days)')),
                ('employee_visa_expiration_reminder_days', models.PositiveIntegerField(verbose_name='Employee Visa Expiration Reminder (days)')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='DailySummary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('opening_balance', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('total_received_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_expense_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('total_bank_deposit', models.DecimalField(decimal_places=2, max_digits=10)),
                ('balance', models.DecimalField(decimal_places=2, max_digits=10)),
                ('narration', models.TextField()),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('employee_id', models.CharField(max_length=10, unique=True)),
                ('username', models.CharField(max_length=50, null=True)),
                ('password', models.CharField(max_length=50, null=True)),
                ('business_profile', models.CharField(max_length=255, null=True)),
                ('business_profile_id', models.IntegerField(null=True)),
                ('first_name', models.CharField(max_length=255)),
                ('second_name', models.CharField(max_length=255)),
                ('nationality', models.CharField(max_length=255)),
                ('mobile_no', models.CharField(blank=True, max_length=20, null=True)),
                ('passport_no', models.CharField(max_length=20, unique=True)),
                ('passport_expiration_date', models.DateField()),
                ('emirates_id', models.CharField(max_length=20, unique=True)),
                ('id_expiration_date', models.DateField()),
                ('basic_pay', models.DecimalField(decimal_places=2, max_digits=10)),
                ('house_allowance', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('transportation_allowance', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('commission_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, validators=[django.core.validators.MinValueValidator(0)])),
                ('joining_date', models.DateField()),
                ('is_employee', models.BooleanField(default=True)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ExpenseType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Module',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('url', models.CharField(choices=[('/sale/dayclosing/', 'Day Closing'), ('/dayclosing/admin/', 'Admin Day Closing'), ('/sale/sales-by-staff-item-service/', 'Sales by Staff - Product/Service'), ('/sale/sales-by-staff-service/', 'Sales by Staff - Service'), ('/sale/sales-by-staff-item/', 'Sales by Staff - Product'), ('/sale/day-closing-report/', 'Day Closing Report'), ('/sale/sales-report/', 'Sales Report')], max_length=150, null=True, verbose_name='Page Name')),
                ('name', models.CharField(choices=[('Day Closing', '/sale/dayclosing/'), ('Admin Day Closing', '/dayclosing/admin/'), ('Sales by Staff - Product/Service', '/sale/sales-by-staff-item-service/'), ('Sales by Staff - Service', '/sale/sales-by-staff-service/'), ('Sales by Staff - Product', '/sale/sales-by-staff-item/'), ('Day Closing Report', '/sale/day-closing-report/'), ('Sales Report', '/sale/sales-report/')], max_length=50, null=True, verbose_name='Page URL')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Modules',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('vat', models.BooleanField(default=False)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('max_discount_allowed', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.BooleanField(default=True)),
                ('business_profile', models.CharField(max_length=255, null=True)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ReceiptType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Service',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('duration', models.PositiveIntegerField()),
                ('vat', models.BooleanField(default=False)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('max_discount_allowed', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.BooleanField(default=True)),
                ('business_profile', models.CharField(max_length=255, null=True)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Shop',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255, verbose_name='Shop Name')),
                ('license_number', models.CharField(max_length=50, unique=True)),
                ('num_users', models.PositiveIntegerField(verbose_name='Number of Users')),
                ('vat_remainder', models.BooleanField(default=True, verbose_name='VAT Reminder')),
                ('employee_transaction_window', models.BooleanField(default=True)),
                ('license_expiration_reminder', models.BooleanField(default=True, verbose_name='License Expiration Reminder')),
                ('employee_visa_expiration_reminder', models.BooleanField(default=True, verbose_name='Employee Visa Expiration Reminder')),
                ('employee_passport_expiration_reminder', models.BooleanField(default=True, verbose_name='Employee Passport Expiration Reminder')),
                ('admin_email', models.EmailField(default='', max_length=100)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ShopAdmin',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('shop', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.shop')),
                ('user', models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='Mite Admin User')),
            ],
        ),
        migrations.CreateModel(
            name='SalesByStaffItemService',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(verbose_name='Date')),
                ('pquantity', models.PositiveIntegerField(null=True, verbose_name='Product Quantity')),
                ('pprice', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Product Price')),
                ('squantity', models.PositiveIntegerField(null=True, verbose_name='Service Quantity')),
                ('sprice', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Service Price')),
                ('sub_total', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Sub Total')),
                ('discount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Discount')),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount')),
                ('payment_method', models.CharField(choices=[('cash', 'Cash'), ('card', 'Card')], max_length=20, verbose_name='Payment Method')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('itemtotal', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Products Total')),
                ('servicetotal', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Service Total')),
                ('employee', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee', verbose_name='Employee')),
                ('product', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.product', verbose_name='Product')),
                ('service', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.service', verbose_name='Service')),
            ],
        ),
        migrations.CreateModel(
            name='SalesByAdminItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('quantity', models.PositiveIntegerField(null=True)),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount')),
                ('payment_method', models.CharField(choices=[('cash', 'Cash'), ('card', 'Card')], max_length=20)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee', verbose_name='Employee')),
                ('item', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.product')),
            ],
        ),
        migrations.CreateModel(
            name='SaleByStaffService',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(verbose_name='Date')),
                ('quantity', models.IntegerField(default=1)),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('payment_method', models.CharField(max_length=100)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee', verbose_name='Employee')),
                ('service', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.service')),
            ],
        ),
        migrations.CreateModel(
            name='SaleByStaffItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('quantity', models.PositiveIntegerField(null=True)),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('payment_method', models.CharField(choices=[('cash', 'Cash'), ('card', 'Card')], max_length=20)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee', verbose_name='Employee')),
                ('item', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.product')),
            ],
        ),
        migrations.CreateModel(
            name='SaleByAdminService',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(null=True, verbose_name='Date')),
                ('quantity', models.PositiveIntegerField(null=True, verbose_name='Service Quantity')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Service Price')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('payment_method', models.CharField(choices=[('cash', 'Cash'), ('card', 'Card')], max_length=20, verbose_name='Payment Method')),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount')),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee', verbose_name='Employee')),
                ('service', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.service', verbose_name='Service')),
            ],
        ),
        migrations.CreateModel(
            name='Role',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('is_employee', models.BooleanField(default=True)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('business_profile', models.ForeignKey(default=None, null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.businessprofile')),
                ('modules', models.ManyToManyField(default=None, to='ezshopapp.module')),
            ],
        ),
        migrations.CreateModel(
            name='ReceiptTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('received_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('narration', models.TextField()),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('receipt_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.receipttype')),
            ],
        ),
        migrations.CreateModel(
            name='PaymentTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('narration', models.TextField()),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('expense_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.expensetype')),
            ],
        ),
        migrations.CreateModel(
            name='EmployeeTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_type', models.CharField(choices=[('service', 'Service Transaction'), ('product', 'Product Transaction'), ('service_and_product', 'Service & Product Transaction')], max_length=20)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('payment_option', models.CharField(choices=[('cash', 'Cash'), ('card', 'Card')], max_length=10)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee')),
                ('product_transactions', models.ManyToManyField(blank=True, related_name='product_transactions', to='ezshopapp.product')),
                ('service_transactions', models.ManyToManyField(blank=True, related_name='service_transactions', to='ezshopapp.service')),
            ],
        ),
        migrations.AddField(
            model_name='employee',
            name='job_role',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='ezshopapp.role'),
        ),
        migrations.CreateModel(
            name='DayClosingAdmin',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField(default=django.utils.timezone.now)),
                ('total_services', models.PositiveIntegerField(default=0)),
                ('total_sales', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_collection', models.DecimalField(decimal_places=2, max_digits=10)),
                ('advance', models.DecimalField(decimal_places=2, max_digits=10)),
                ('net_collection', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='approved', max_length=10)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee')),
            ],
        ),
        migrations.CreateModel(
            name='DayClosing',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('total_services', models.DecimalField(decimal_places=2, max_digits=8)),
                ('total_sales', models.DecimalField(decimal_places=2, max_digits=8)),
                ('total_collection', models.DecimalField(decimal_places=2, max_digits=8)),
                ('advance', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('net_collection', models.DecimalField(decimal_places=2, max_digits=8)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='pending', max_length=10)),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.employee')),
            ],
        ),
        migrations.CreateModel(
            name='BankDeposit',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('deposit_date', models.DateField(blank=True, null=True)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('transaction_type', models.CharField(max_length=20)),
                ('narration', models.TextField()),
                ('created_on', models.DateTimeField(auto_now_add=True, null=True)),
                ('bank', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='ezshopapp.bank')),
            ],
        ),
    ]
